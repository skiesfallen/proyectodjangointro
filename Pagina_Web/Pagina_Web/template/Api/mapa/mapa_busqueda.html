<!DOCTYPE html>
<html>
<head>
    <title>Resultado de Búsqueda</title>
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css" rel="stylesheet" />
    
</head>
<style>
    .form{
    float: right;
    width: 300px;
    background-color: #ddd;
    border: none;
    color: black;
    padding: 3px;
    padding-left: 15px;
    padding-right: 15px;
    border-color:rgba(0, 0, 0, 0.523);
    border-style: dashed;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    border-radius: 10px; 
 }
</style>
<body class="fondo" background="../../../static/img/fondoo.jpg">
<link rel="stylesheet" href="../../../static/css/StyleMapa.css">
    <header>
        <a href="/">
            <button class="regreso">
                <img src="../../../static/img/reversa.png">
                Volver al inicio
            </button>
        </a>
    </header>
    <br>
    <div class="form">
        <form method="post" action="{% url 'buscar_ubicacion' %}">
            {% csrf_token %}
            <label for="ubicacion">Buscar Ubicación:</label>
            <input type="text" id="ubicacion" name="ubicacion" required>
            <button type="submit">Buscar</button>
        </form>
    </div>
    <div id="map" style="width: 75%; height: 650px;"></div>
     
    

    <script src="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js"></script>
    <script src="../../../static/js/Map/config.js"></script>
    
    <script>
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v11',
            center: [-71.59496643495604,-33.035960040525815], // Coordenadas iniciales del mapa (UTFSM)
            zoom: 16.5 // Nivel de zoom inicial
        });
        map.addControl(new mapboxgl.NavigationControl());

        map.addControl(new mapboxgl.GeolocateControl({
            positionOption:{
                enableHighAccuracy: true
            },
            trackUserLocation: true
        }))
    </script>
    <br>
    <p style="color: #ddd;">Coordenadas: {{ coordenadas.coordenadas }}</p>

</body>
</html>
